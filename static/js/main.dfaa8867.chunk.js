(this.webpackJsonpdemography=this.webpackJsonpdemography||[]).push([[0],{100:function(t,e,a){},101:function(t,e,a){},278:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a(4),o=a.n(s),r=a(76),c=a.n(r),l=(a(83),a(19)),i=a(20),d=a(22),u=a(21),h=a(37),f=a.n(h),b=a(35),p=a.n(b),j=a(36),m=a.n(j),v=(a(100),a(101),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props,e=t.state,a=t.onChange,s=t.hadndleSubmit;console.log(e.houseHoldInfo);var o=[];return e.houseHoldInfo.length>0&&e.houseHoldInfo.map((function(t,e){0!==e&&o.push(parseInt(t[1]))})),o=o.reduce((function(t,e){return t+e}),0),Object(n.jsx)("div",{className:"search-form ",children:Object(n.jsxs)("form",{className:"row",onSubmit:s,children:[Object(n.jsxs)("div",{className:"col-auto",children:[Object(n.jsx)("input",{type:"text",className:e.error?"form-control is-invalid":" form-control",placeholder:"Type your state",onChange:a}),Object(n.jsx)("div",{id:"validationServer05Feedback",className:"invalid-feedback text-left",children:e.error})]}),Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})}),Object(n.jsxs)("div",{className:"col-md-8",children:[Object(n.jsx)("div",{className:"text-right boldtext",children:"2017 US Census"}),Object(n.jsx)("div",{className:"text-right",children:e.displayState?Object(n.jsxs)("h6",{children:[Object(n.jsx)("span",{className:"boldertext",children:e.displayState}),e.houseHoldInfo.length>0?" - "+o+" Households":null]}):null})]})]})})}}]),a}(s.Component)),g=a(77);function S(t){var e=t.houseHoldInfo,a=[],s=[];return e.map((function(t,e){0!==e&&a.push(t[0].split(",")[0])})),e.map((function(t,e){0!==e&&s.push(t[1])})),Object(n.jsx)("div",{className:"barchart",children:Object(n.jsx)(g.Bar,{data:{labels:a,datasets:[{label:"Households  by counties",data:s,backgroundColor:"red"}]},height:400,width:1040,options:{plugins:{datalabels:{display:"auto",align:"top",anchor:"end",color:"#000000",font:{size:10}}},maintainAspectRatio:!1,tooltips:{enabled:!0},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})})}var O=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))).state={stateName:"",allStates:"",houseHoldInfo:"",displayState:"",loadChart:!1},t.getStateCodes=function(){},t.onChange=function(e){t.setState({stateName:e.target.value})},t.fetchHouseHoldInfo=function(e){m.a.get("https://api.census.gov/data/2019/acs/acs1/profile?get=NAME,DP02_0001E&for=county:*&in=state:".concat(e,"&key=").concat("bda6319073e685de10d98a469b92a47e697a786b")).then((function(e){200===e.status?t.setState({houseHoldInfo:e.data,loadChart:!0}):t.setState({houseHoldInfo:null})})).catch((function(e){t.setState({error:"Service is not available"})}))},t.hadndleSubmit=function(e){if(e.preventDefault(),f.a.isEmpty(t.state.stateName)?t.setState({error:"Please provide state"}):t.setState({error:null}),f.a.isEmpty(t.state.stateName))t.setState({error:"Please provide state"});else{t.setState({error:null});var a,n=p.a.startCase(p.a.toLower(t.state.stateName));console.log(n,"*******");var s=t.state.allStates.filter((function(t){return t[0]==n}));0===s.length?t.setState({error:"Invalid  state",displayState:null}):(t.setState({displayState:n}),a=s[0][1],t.fetchHouseHoldInfo(a))}},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;m.a.get("https://api.census.gov/data/2010/dec/sf1?get=NAME&for=state:*").then((function(e){200===e.status?t.setState({allStates:e.data}):t.setState({error:"Incorrect state. check spelling"})})).catch((function(e){t.setState({error:"Service Unavailable"})})).then((function(){}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(v,{hadndleSubmit:this.hadndleSubmit,onChange:this.onChange,state:this.state}),this.state.loadChart?Object(n.jsx)(S,{houseHoldInfo:this.state.houseHoldInfo}):null]})}}]),a}(s.Component),x=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,279)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,o=e.getLCP,r=e.getTTFB;a(t),n(t),s(t),o(t),r(t)}))};a(277);c.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),x()},83:function(t,e,a){}},[[278,1,2]]]);
//# sourceMappingURL=main.dfaa8867.chunk.js.map